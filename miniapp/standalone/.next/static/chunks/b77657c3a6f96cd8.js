(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48425,e=>{"use strict";var t=e.i(71645),r=e.i(74080),n=e.i(91918),a=e.i(43476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let i=t.forwardRef((e,t)=>{let{asChild:i,...s}=e,l=i?n.Slot:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(l,{...s,ref:t})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});function s(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>s])},23750,10708,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function n({className:e,type:n,...a}){return(0,t.jsx)("input",{type:n,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>n],23750);var a=e.i(71645),i=e.i(48425),s=a.forwardRef((e,r)=>(0,t.jsx)(i.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function l({className:e,...n}){return(0,t.jsx)(s,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...n})}s.displayName="Label",e.s(["Label",()=>l],10708)},99023,7233,3568,e=>{"use strict";let t,r,n;var a=e.i(75254);let i=(0,a.default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>i],99023);let s=(0,a.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233);var l=e.i(71645);let o=e=>{let t,r=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=n?n:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,i={setState:n,getState:a,getInitialState:()=>s,subscribe:e=>(r.add(e),()=>r.delete(e))},s=t=e(n,a,i);return i},d=e=>{let t=e?o(e):o,r=e=>(function(e,t=e=>e){let r=l.default.useSyncExternalStore(e.subscribe,l.default.useCallback(()=>t(e.getState()),[e,t]),l.default.useCallback(()=>t(e.getInitialState()),[e,t]));return l.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},c=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>c(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>c(t)(e)}}},u=(t?d(t):d)((r=(e,t)=>({items:[],addItem:t=>{e(e=>e.items.find(e=>e.menuItem.id===t.id)?{items:e.items.map(e=>e.menuItem.id===t.id?{...e,quantity:e.quantity+1}:e)}:{items:[...e.items,{menuItem:t,quantity:1}]})},removeItem:t=>{e(e=>({items:e.items.filter(e=>e.menuItem.id!==t)}))},updateQuantity:(r,n)=>{n<=0?t().removeItem(r):e(e=>({items:e.items.map(e=>e.menuItem.id===r?{...e,quantity:n}:e)}))},clearCart:()=>{e({items:[]})},getTotalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>t().items.reduce((e,t)=>e+t.menuItem.price*t.quantity,0)}),n={name:"food-delivery-cart"},(e,t,a)=>{let i,s={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let n=e=>null===e?null:JSON.parse(e,void 0),a=null!=(t=r.getItem(e))?t:null;return a instanceof Promise?a.then(n):n(a)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...n},l=!1,o=0,d=new Set,u=new Set,m=s.storage;if(!m)return r((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),e(...t)},t,a);let x=()=>{let e=s.partialize({...t()});return m.setItem(s.name,{state:e,version:s.version})},f=a.setState;a.setState=(e,t)=>(f(e,t),x());let p=r((...t)=>(e(...t),x()),t,a);a.getInitialState=()=>p;let h=()=>{var r,n;if(!m)return;let a=++o;l=!1,d.forEach(e=>{var r;return e(null!=(r=t())?r:p)});let f=(null==(n=s.onRehydrateStorage)?void 0:n.call(s,null!=(r=t())?r:p))||void 0;return c(m.getItem.bind(m))(s.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];else{if(s.migrate){let t=s.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(r=>{var n;if(a!==o)return;let[l,d]=r;if(e(i=s.merge(d,null!=(n=t())?n:p),!0),l)return x()}).then(()=>{a===o&&(null==f||f(i,void 0),i=t(),l=!0,u.forEach(e=>e(i)))}).catch(e=>{a===o&&(null==f||f(void 0,e))})};return a.persist={setOptions:e=>{s={...s,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>h(),hasHydrated:()=>l,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},s.skipHydration||h(),i||p}));e.s(["useCartStore",0,u],3568)},90571,e=>{"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function r(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function n(e,t,r,n){return new(r||(r=Promise))(function(a,i){function s(e){try{o(n.next(e))}catch(e){i(e)}}function l(e){try{o(n.throw(e))}catch(e){i(e)}}function o(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,l)}o((n=n.apply(e,t||[])).next())})}function a(e,t,r){if(r||2==arguments.length)for(var n,a=0,i=t.length;a<i;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,e.s(["__assign",()=>t,"__awaiter",()=>n,"__rest",()=>r,"__spreadArray",()=>a])},78745,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t])},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},13689,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),a=e.i(71689),i=e.i(99023),s=e.i(7233);let l=(0,e.i(75254).default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var o=e.i(67881),d=e.i(3568),c=e.i(62870),u=e.i(23750),m=e.i(47163);function x({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,m.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}var f=e.i(10708);function p(){let e=(0,n.useRouter)(),{items:m,updateQuantity:p,getTotalPrice:h,clearCart:g}=(0,d.useCartStore)(),[v,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)("delivery"),[N,w]=(0,r.useState)(""),[S,k]=(0,r.useState)("+996"),[I,C]=(0,r.useState)(""),[O,P]=(0,r.useState)(1),[_,M]=(0,r.useState)(""),[E,L]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{b(!0)},[]),!v)return(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,t.jsx)("div",{className:"animate-pulse text-muted-foreground",children:"–ó–∞–≥—Ä—É–∑–∫–∞..."})})});if(0===m.length)return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-50 flex items-center gap-3 bg-background px-4 py-3",children:[(0,t.jsx)("button",{onClick:()=>e.back(),className:"text-foreground",children:(0,t.jsx)(a.ArrowLeft,{className:"h-6 w-6"})}),(0,t.jsx)("span",{className:"text-lg font-medium text-foreground",children:"–ù–∞–∑–∞–¥"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-[60vh] px-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-muted rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(l,{className:"w-10 h-10 text-muted-foreground"})}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-foreground mb-2",children:"–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞"}),(0,t.jsx)("p",{className:"text-muted-foreground text-center mb-6",children:"–î–æ–±–∞–≤—å—Ç–µ –±–ª—é–¥–∞ –∏–∑ –º–µ–Ω—é, —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"}),(0,t.jsx)(o.Button,{onClick:()=>e.push("/"),children:"–ü–µ—Ä–µ–π—Ç–∏ –≤ –º–µ–Ω—é"})]})]});let q=h(),z=190*("delivery"===y),A=q+z,T=async()=>{if(!N.trim())return void alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è");if(!S||S.length<10)return void alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞");if("delivery"===y&&!I.trim())return void alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏");L(!0);try{let t=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:m.map(e=>({menu_item_id:e.menuItem.id,quantity:e.quantity,price:e.menuItem.price,name:e.menuItem.name})),customer_name:N,customer_phone:S,customer_address:"delivery"===y?I:null,order_type:y,utensils_count:O,delivery_fee:z,total_amount:A,comment:_||null})});if(!t.ok)throw Error("Failed to create order");let r=await t.json();g(),e.push(`/order/${r.id}`)}catch(e){console.error("Error creating order:",e),alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}finally{L(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-background pb-24",children:[(0,t.jsxs)("header",{className:"sticky top-0 z-50 flex items-center gap-3 bg-background px-4 py-3 border-b border-border",children:[(0,t.jsx)("button",{onClick:()=>e.back(),className:"text-foreground",children:(0,t.jsx)(a.ArrowLeft,{className:"h-6 w-6"})}),(0,t.jsx)("span",{className:"text-lg font-medium text-foreground",children:"–ù–∞–∑–∞–¥"})]}),(0,t.jsxs)("main",{className:"px-4 py-4",children:[(0,t.jsx)("div",{className:"space-y-0 divide-y divide-border",children:m.map(e=>(0,t.jsx)("div",{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium text-foreground",children:e.menuItem.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"–ò—Ç–æ–≥–æ –∑–∞ –±–ª—é–¥–æ"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>p(e.menuItem.id,e.quantity-1),className:"text-primary text-xl font-medium",children:"‚àí"}),(0,t.jsx)("span",{className:"w-6 text-center text-foreground",children:e.quantity}),(0,t.jsx)("button",{onClick:()=>p(e.menuItem.id,e.quantity+1),className:"text-primary text-xl font-medium",children:"+"})]}),(0,t.jsxs)("span",{className:"text-foreground font-medium min-w-[80px] text-right",children:[e.menuItem.price*e.quantity," —Å–æ–º"]})]})]})},e.menuItem.id))}),(0,t.jsxs)("div",{className:"mt-4 space-y-1 text-foreground",children:[(0,t.jsxs)("p",{className:"font-semibold",children:["–°—É–º–º–∞: ",q," —Å–æ–º"]}),"delivery"===y&&(0,t.jsxs)("p",{className:"text-muted-foreground",children:["–î–æ—Å—Ç–∞–≤–∫–∞: ",z.toFixed(2)," —Å–æ–º"]}),(0,t.jsxs)("p",{className:"font-bold text-lg",children:["–ò—Ç–æ–≥–æ: ",A," —Å–æ–º"]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)(f.Label,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"–¢–∏–ø –∑–∞–∫–∞–∑–∞"}),(0,t.jsxs)(c.Select,{value:y,onValueChange:e=>j(e),children:[(0,t.jsx)(c.SelectTrigger,{className:"mt-2 h-12 bg-input border-0",children:(0,t.jsx)(c.SelectValue,{placeholder:"–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∑–∞–∫–∞–∑–∞"})}),(0,t.jsxs)(c.SelectContent,{children:[(0,t.jsx)(c.SelectItem,{value:"delivery",children:"–î–æ—Å—Ç–∞–≤–∫–∞"}),(0,t.jsx)(c.SelectItem,{value:"pickup",children:"–°–∞–º–æ–≤—ã–≤–æ–∑"}),(0,t.jsx)(c.SelectItem,{value:"preorder",children:"–ü—Ä–µ–¥–∑–∞–∫–∞–∑"})]})]})]}),"delivery"===y&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)(f.Label,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"–ê–¥—Ä–µ—Å"}),(0,t.jsx)(u.Input,{value:I,onChange:e=>C(e.target.value),placeholder:"—É–ª–∏—Ü–∞, –¥–æ–º, –∫–≤–∞—Ä—Ç–∏—Ä–∞",className:"mt-2 h-12 bg-input border-0"}),(0,t.jsx)("button",{className:"mt-2 text-sm text-primary",children:"–î–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –¥–ª—è –∫—É—Ä—å–µ—Ä–∞"})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)(f.Label,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–±–æ—Ä–æ–≤"}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xl",children:"üç¥"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-input rounded-lg px-2",children:[(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-10 w-10 text-foreground",onClick:()=>P(Math.max(0,O-1)),children:(0,t.jsx)(i.Minus,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"w-8 text-center text-foreground font-medium",children:O}),(0,t.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-10 w-10 text-foreground",onClick:()=>P(O+1),children:(0,t.jsx)(s.Plus,{className:"h-4 w-4"})})]})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)(f.Label,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"–ò–º—è"}),(0,t.jsx)(u.Input,{value:N,onChange:e=>w(e.target.value),placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ –∏–º—è",className:"mt-2 h-12 bg-input border-0"})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)(f.Label,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞"}),(0,t.jsx)(u.Input,{type:"tel",value:S,onChange:e=>k(e.target.value),placeholder:"+996",className:"mt-2 h-12 bg-input border-0"})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)(f.Label,{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–≤–µ–¥–µ–Ω–∏—é"}),(0,t.jsx)(x,{value:_,onChange:e=>M(e.target.value),placeholder:"–ú–æ–∂–µ—Ç–µ —É—Ç–æ—á–Ω–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∏–ª–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è",className:"mt-2 min-h-[100px] bg-input border-0 resize-none"})]})]}),(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-4 pb-6 bg-gradient-to-t from-background via-background to-transparent",children:(0,t.jsx)(o.Button,{onClick:T,disabled:E,className:"w-full h-14 text-lg font-semibold rounded-xl",children:E?"–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ...":"–û–ø–ª–∞—Ç–∏—Ç—å"})})]})}e.s(["default",()=>p],13689)}]);